<!DOCTYPE html>
<html>
  <head>
    <title></title>
  </head>
  <body>
      <input type='number' id="inputNum">
      <br>
      <br>
      <button id='startButton' onclick="start()">start</button>
      <button id='stopButton' onclick="stop()">stop</button>
      <button id='resetButton' onclick="reset()">reset</button>
      <br>
      <p id='output'></p>
          <script defer>
const output = document.getElementById("output");
const inputNum = document.getElementById("inputNum");

var num = 0;
var timeout = null;

function start(){
  num = inputNum.value;
  output.textContent = num;
  controlFlow(num);
}

function stop(){
  clearTimeout(timeout);
}

function reset(){
  stop();
  inputNum.value = '';
  output.textContent = '';
  num = 0;
}

function finish(){
  stop();
  output.textContent += ', done';
}

function controlFlow(){
  timeout = setTimeout(() => {
    //check whether number is even or odd
    if (num%2 === 0){
      even(num);
    } else {
      odd(num);
    }
  }, 50);
}


function even(){
  num = num/2;
  output.textContent += ' ,' + num;
  check();
}

function odd(){
  num = (3 * num) + 1;
  output.textContent += ' ,' + num;
  check();
}

function check(){
  if (num != 1){
    controlFlow();
  } else {
    finish();
  }
}
    </script>
  </body>
</html>
